@model IReadOnlyList<Assignment>
@{
    ViewData["Title"] = "CourseAssignments";
    var solvedAssignments = ViewBag.solvedAssignments as ICollection<int>;
}

<div class="container">
    @foreach (var assignment in Model)
    {
        <div class="assignment-card">
            <div class="card-header">
                <h3>@assignment.Name</h3>
                <div class="action-buttons">
                    @if (DateTime.Now >= assignment.TimedEntity.Open && DateTime.Now <= assignment.TimedEntity.Close)
                    {
                        if (solvedAssignments.Contains(assignment.Id))
                        {
                            <span class="badge badge-success">Completed</span>
                        }
                        else
                        {
                            <a class="btn btn-primary btn-sm" asp-action="SubmitAssignments" asp-controller="Assignment" asp-route-assignmentId="@assignment.Id">Submit</a>
                        }
                    }
                    else
                    {
                        <span class="badge badge-secondary">Closed</span>
                    }
                </div>
            </div>
            <div class="card-body">
                <p><strong>Open:</strong> @assignment.TimedEntity.Open</p>
                <p><strong>Close:</strong> @assignment.TimedEntity.Close</p>
            </div>
        </div>
    }
</div>

<style>
    .assignment-card {
        background-color: #f8f9fa; /* Lighter background color */
        border: 1px solid #dee2e6;
        border-radius: 5px;
        margin-bottom: 20px;
        padding: 15px;
    }

        .assignment-card .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

            .assignment-card .card-header h3 {
                margin: 0;
            }

        .assignment-card .action-buttons {
            display: flex;
            align-items: center;
        }

        .assignment-card .card-body {
            padding: 10px;
            border-top: 1px solid #dee2e6;
        }

    .badge {
        margin-left: 10px;
    }
</style>
